<!DOCTYPE html>
<html lang="zxx">
<head>
	<meta charset="UTF-8">
	<!-- NECESSARIO PARA AJUSTE EM MOBILE -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Setores - Watterizer</title>
	<link rel="stylesheet" type="text/css" href="../css/post-base.css"> <!-- CSS BASE -->
	<link rel="stylesheet" type="text/css" href="../css/post-portal.css"> <!-- CSS DO PORTAL -->
	<link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> <!-- CSS BOOTSTRAP -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script> <!-- ANGULAR -->
	<script type="text/javascript" src="../js/fabric.js"></script>
	<!-- <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css"> -->
</head>
<body>
	<div class="container-fluid">
		<!-- CABEÇALHO -->
		<header class="col-xs-12">
			<div class="wrapper col-xs-12">
				<a id="voltar" href="/portal">Voltar</a>
				<!-- LOGO -->
				<div class="logo hidden-xs hidden-sm col-md-5 col-lg-6">
					<a class="col-xs-12" href="">Watterizer</a>
				</div>
				<!-- FORMULARIO DE LOGIN  -->
				<div id="auth" class="container col-xs-12 col-md-7 col-lg-6">
					<img src="../img/avatar-placeholder.gif">
					<a id="name" href="#">Includes da Silva Melo</a>
					<div id="options" class="dropdown">
						<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">
							<span class="caret"></span>
						</button>
						<ul class="dropdown-menu">
							<li><a href="#">Configurações de Conta<span class="glyphicon glyphicon-wrench"></span></a></li>
							<li class="divider"></li>
							<li><a href="#">Logout<span class="glyphicon glyphicon-log-out"></span></a></li>
						</ul>
					</div>
				</div>
			</div>
		</header>
		<!-- CONTEUDO DO SITE -->
		<div id="content-portal" class="container-fluid">
		<canvas id="c" width="2000" height="800"></canvas>
						<button id="zoomIn">+</button>
						<button id="zoomOut">-</button>
						<button id="goLeft"><</button>
						<button id="goRight">></button>
						<button id="goUp">Up</button>
						<button id="goDown">Down</button>
						<input id="sala" type="button" value="Adicionar Caixa" />
						<input id="saveImg" type="button" value="Salvar Imagem" />
						<input id="deleteImg" type="button" value="Deletar Imagem" />
						<input id="loadImg" type="button" value="Carregar Imagem" />
						<input id="downloadImg" type="button" value="Download da Imagem" />
						<input id="porta" type="button" value="Criar porta" />	
						<input id="pc" type="button" value="Colocar PC" />
						<input id="texto" type="text"/>
						<select id="setores">
							<option value="mc">mc</option>
							<option value="informatica">informatica</option>
							<option value="3it">3it</option>
							<option value="4it">4it</option>
						</select>

						<p id="janela" style="display: none; position:absolute;"></p>
			<div id="setores" class="panel-group" ng-app="wattzApp" ng-controller="setoresCtrl">
				<div class="panel panel-default" ng-repeat="setor in setores">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#setores" href="#setor-{{setor.id}}">{{setor.setor}}<label class="badge">3 arduínos</label></a>
						</h4>
					</div>
					<div id="setor-{{setor.id}}" class="panel-collapse collapse">
						
						<ul class="list-group">
							<li class="list-group-item" ng-repeat="arduino in arduinos">
								<div class="panel panel-default" ng-repeat="x in arduino">
									<div class="panel-heading">
										<h4 class="panel-title" >
											<a data-toggle="collapse" href="#arduino-{{setor.id}}-{{x.id}}">{{x.id}}</a>
										</h4>
									</div>
									<div id="arduino-{{setor.id}}-{{arduino.id}}" class="panel-collapse collapse">
										<ul class="list-group">
											<li class="list-group-item">One</li>
											<li class="list-group-item">Two</li>
											<li class="list-group-item">Three</li>
										</ul>
										<div class="panel-footer">Footer</div>
									</div>
								</div>
							</li>
						</ul>
						<div class="panel-footer">Footer</div>
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading">
						<h4 class="panel-title">
							<a data-toggle="collapse" data-parent="#setores" href="#salas">salas<label class="badge">3 arduínos</label></a>
						</h4>
					</div>
					
				</div>
				
			</div>
		</div>
		<!-- RODAPÉ -->
	</div>
</body>
<!-- IMPORTAÇÕES JAVASCRIPT -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script> <!-- JS JQUERY -->
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> <!-- JS BOOTSTRAP -->
<!-- <script src="../js/jquery.js"></script> -->
<!-- <script src="../js/bootstrap.min.js"></script> -->
<script src="../js/portal.js"></script> <!-- JS DO PORTAL -->
<script src="../js/slider.js"></script> <!-- JS DO SLIDER -->
<script src="../js/sync-bs.js"></script> <!-- JS DE SINCORINIZAÇÃO COM O BOOTSTRAP -->
<script type="text/javascript" src="../js/script.js"></script>
<script type="text/javascript">
	var app = angular.module('wattzApp', []);
	app.controller('setoresCtrl', function($scope, $http) {
		$http.get("/setor")
		.then(function (response) {
			$scope.setores = response.data;
			$scope.arduinos=[]
			angular.forEach($scope.setores, function(value, key) {
				$http.get("/dados/arduino/setor/"+value.id)
				.then(function (response) {
					$scope.arduinos[key] = response.data;
					console.log($scope.arduinos[key]);
				});
			});
		});
	});
</script>
</html>